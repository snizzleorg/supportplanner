services:
  support-planner-auth:
    build: .
    container_name: support-planner-auth
    env_file:
      - .env.auth
    ports:
      - "5175:5173"  # External port 5175 for the auth test stack
    restart: unless-stopped

  support-planner-tests-auth:
    build:
      context: .
      dockerfile: tests/runner/Dockerfile
    container_name: support-planner-tests-auth
    environment:
      - APP_URL=http://support-planner-auth:5173
    depends_on:
      - support-planner-auth
    restart: "no"
